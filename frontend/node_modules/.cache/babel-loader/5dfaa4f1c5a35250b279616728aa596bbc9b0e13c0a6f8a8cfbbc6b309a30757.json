{"ast":null,"code":"var _jsxFileName = \"/home/miorena/ToDo_List_Project/frontend/src/components/TaskItem.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction TaskItem({\n  task,\n  onUpdate,\n  onDelete\n}) {\n  _s();\n  const [isEditing, setIsEditing] = useState(false);\n  const [editTitle, setEditTitle] = useState(task.title);\n  const toggleComplete = async () => {\n    try {\n      const response = await fetch(`http://127.0.0.1:8000/api/tasks/${task.id}/`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          is_completed: !task.is_completed\n        })\n      });\n      if (response.ok) {\n        const updatedTask = await response.json();\n        onUpdate(updatedTask);\n      } else {\n        console.error(\"Erreur lors de la mise √† jour\");\n      }\n    } catch (err) {\n      console.error(\"ERREUR r√©seau\", err);\n    }\n  };\n  const handleDelete = async () => {\n    try {\n      const response = await fetch(`http://127.0.0.1:8000/api/tasks/${task.id}/delete/`, {\n        method: \"DELETE\"\n      });\n      if (response.ok || response.status === 204) {\n        onDelete(task.id);\n      } else {\n        console.error(\"Erreur lors de la suppression\");\n      }\n    } catch (err) {\n      console.error(\"ERREUR r√©seau\", err);\n    }\n  };\n  const handleEdit = async () => {\n    try {\n      const response = await fetch(`http://127.0.0.1:8000/api/tasks/${task.id}/`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          title: editTitle\n        })\n      });\n      if (response.ok) {\n        const updatedTask = await response.json();\n        onUpdate(updatedTask);\n        setIsEditing(false);\n      } else {\n        console.error(\"Erreur lors de la mise √† jour du titre\");\n      }\n    } catch (err) {\n      console.error(\"ERREUR r√©seau lors de l'√©dition :\", err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex items-center justify-between bg-white p-4 rounded shadow border ${task.is_completed ? \"opacity-70\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        checked: task.is_completed,\n        onChange: toggleComplete,\n        className: \"w-5 h-5 accent-indigo-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"border p-1 rounded text-sm\",\n        value: editTitle,\n        onChange: e => setEditTitle(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `text-lg ${task.is_completed ? \"line-through text-gray-400\" : \"text-gray-800\"}`,\n        children: task.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDelete,\n        className: \"text-red-500 hover:text-red-700 text-sm\",\n        title: \"Supprimer\",\n        children: \"\\u274C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), isEditing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleEdit,\n          className: \"text-green-500 hover:text-green-700 text-sm\",\n          title: \"Enregistrer\",\n          children: \"\\uD83D\\uDCBE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setEditTitle(task.title);\n            setIsEditing(false);\n          },\n          className: \"text-gray-500 hover:text-gray-700 text-sm\",\n          title: \"Annuler\",\n          children: \"\\u274C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsEditing(true),\n        className: \"text-blue-500 hover:text-blue-700 text-sm\",\n        title: \"Modifier\",\n        children: \"\\u270F\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n_s(TaskItem, \"l8L7ZL61R2Kd62XGXxFv/pTKtFU=\");\n_c = TaskItem;\nexport default TaskItem;\nvar _c;\n$RefreshReg$(_c, \"TaskItem\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","Fragment","_Fragment","TaskItem","task","onUpdate","onDelete","_s","isEditing","setIsEditing","editTitle","setEditTitle","title","toggleComplete","response","fetch","id","method","headers","body","JSON","stringify","is_completed","ok","updatedTask","json","console","error","err","handleDelete","status","handleEdit","className","children","type","checked","onChange","fileName","_jsxFileName","lineNumber","columnNumber","value","e","target","onClick","_c","$RefreshReg$"],"sources":["/home/miorena/ToDo_List_Project/frontend/src/components/TaskItem.jsx"],"sourcesContent":["import { useState } from 'react';\n\nfunction TaskItem({ task, onUpdate, onDelete }) {\n    const [isEditing, setIsEditing] = useState(false);\n    const [editTitle, setEditTitle] = useState(task.title);\n\n    const toggleComplete = async () => {\n        try {\n            const response = await fetch(`http://127.0.0.1:8000/api/tasks/${task.id}/`, {\n                method: \"PATCH\",\n                headers: {\n                \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({ is_completed: !task.is_completed })\n            });\n\n            if (response.ok) {\n                const updatedTask = await response.json();\n                onUpdate(updatedTask);\n            } else {\n                console.error(\"Erreur lors de la mise √† jour\");\n            }\n        } catch (err) {\n        console.error(\"ERREUR r√©seau\", err);\n        }\n    };\n\n    const handleDelete = async () => {\n        try {\n            const response = await fetch(`http://127.0.0.1:8000/api/tasks/${task.id}/delete/`, {\n                method: \"DELETE\"\n            });\n\n            if (response.ok || response.status === 204) {\n                onDelete(task.id);\n            } else {\n                console.error(\"Erreur lors de la suppression\");\n            }\n        } catch (err) {\n        console.error(\"ERREUR r√©seau\", err);\n        }\n    };\n\n    const handleEdit = async () => {\n        try {\n            const response = await fetch(`http://127.0.0.1:8000/api/tasks/${task.id}/`, {\n                method: \"PATCH\",\n                headers: {\n                \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({ title: editTitle })\n            });\n\n            if (response.ok) {\n                const updatedTask = await response.json();\n                onUpdate(updatedTask);\n                setIsEditing(false);\n            } else {\n                console.error(\"Erreur lors de la mise √† jour du titre\");\n            }\n        } catch (err) {\n        console.error(\"ERREUR r√©seau lors de l'√©dition :\", err);\n        }\n    };\n\n  return (\n    <div className={`flex items-center justify-between bg-white p-4 rounded shadow border ${task.is_completed ? \"opacity-70\" : \"\"}`}>\n      <div className=\"flex items-center gap-2\">\n        <input\n          type=\"checkbox\"\n          checked={task.is_completed}\n          onChange={toggleComplete}\n          className=\"w-5 h-5 accent-indigo-600\"\n        />\n        {isEditing ? (\n          <input\n            className=\"border p-1 rounded text-sm\"\n            value={editTitle}\n            onChange={(e) => setEditTitle(e.target.value)}\n          />\n        ) : (\n          <span className={`text-lg ${task.is_completed ? \"line-through text-gray-400\" : \"text-gray-800\"}`}>\n            {task.title}\n          </span>\n        )}\n      </div>\n      <div className=\"flex gap-2\">\n        <button\n          onClick={handleDelete}\n          className=\"text-red-500 hover:text-red-700 text-sm\"\n          title=\"Supprimer\"\n        >\n          ‚ùå\n        </button>\n        {isEditing ? (\n          <>\n            <button\n              onClick={handleEdit}\n              className=\"text-green-500 hover:text-green-700 text-sm\"\n              title=\"Enregistrer\"\n            >\n              üíæ\n            </button>\n            <button\n              onClick={() => {\n                setEditTitle(task.title);\n                setIsEditing(false);\n              }}\n              className=\"text-gray-500 hover:text-gray-700 text-sm\"\n              title=\"Annuler\"\n            >\n              ‚ùå\n            </button>\n          </>\n        ) : (\n          <button\n            onClick={() => setIsEditing(true)}\n            className=\"text-blue-500 hover:text-blue-700 text-sm\"\n            title=\"Modifier\"\n          >\n            ‚úèÔ∏è\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default TaskItem;"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEjC,SAASC,QAAQA,CAAC;EAAEC,IAAI;EAAEC,QAAQ;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC5C,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACY,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAACM,IAAI,CAACQ,KAAK,CAAC;EAEtD,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmCX,IAAI,CAACY,EAAE,GAAG,EAAE;QACxEC,MAAM,EAAE,OAAO;QACfC,OAAO,EAAE;UACT,cAAc,EAAE;QAChB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEC,YAAY,EAAE,CAAClB,IAAI,CAACkB;QAAa,CAAC;MAC7D,CAAC,CAAC;MAEF,IAAIR,QAAQ,CAACS,EAAE,EAAE;QACb,MAAMC,WAAW,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;QACzCpB,QAAQ,CAACmB,WAAW,CAAC;MACzB,CAAC,MAAM;QACHE,OAAO,CAACC,KAAK,CAAC,+BAA+B,CAAC;MAClD;IACJ,CAAC,CAAC,OAAOC,GAAG,EAAE;MACdF,OAAO,CAACC,KAAK,CAAC,eAAe,EAAEC,GAAG,CAAC;IACnC;EACJ,CAAC;EAED,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACA,MAAMf,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmCX,IAAI,CAACY,EAAE,UAAU,EAAE;QAC/EC,MAAM,EAAE;MACZ,CAAC,CAAC;MAEF,IAAIH,QAAQ,CAACS,EAAE,IAAIT,QAAQ,CAACgB,MAAM,KAAK,GAAG,EAAE;QACxCxB,QAAQ,CAACF,IAAI,CAACY,EAAE,CAAC;MACrB,CAAC,MAAM;QACHU,OAAO,CAACC,KAAK,CAAC,+BAA+B,CAAC;MAClD;IACJ,CAAC,CAAC,OAAOC,GAAG,EAAE;MACdF,OAAO,CAACC,KAAK,CAAC,eAAe,EAAEC,GAAG,CAAC;IACnC;EACJ,CAAC;EAED,MAAMG,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC3B,IAAI;MACA,MAAMjB,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmCX,IAAI,CAACY,EAAE,GAAG,EAAE;QACxEC,MAAM,EAAE,OAAO;QACfC,OAAO,EAAE;UACT,cAAc,EAAE;QAChB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAET,KAAK,EAAEF;QAAU,CAAC;MAC7C,CAAC,CAAC;MAEF,IAAII,QAAQ,CAACS,EAAE,EAAE;QACb,MAAMC,WAAW,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;QACzCpB,QAAQ,CAACmB,WAAW,CAAC;QACrBf,YAAY,CAAC,KAAK,CAAC;MACvB,CAAC,MAAM;QACHiB,OAAO,CAACC,KAAK,CAAC,wCAAwC,CAAC;MAC3D;IACJ,CAAC,CAAC,OAAOC,GAAG,EAAE;MACdF,OAAO,CAACC,KAAK,CAAC,mCAAmC,EAAEC,GAAG,CAAC;IACvD;EACJ,CAAC;EAEH,oBACE5B,OAAA;IAAKgC,SAAS,EAAE,wEAAwE5B,IAAI,CAACkB,YAAY,GAAG,YAAY,GAAG,EAAE,EAAG;IAAAW,QAAA,gBAC9HjC,OAAA;MAAKgC,SAAS,EAAC,yBAAyB;MAAAC,QAAA,gBACtCjC,OAAA;QACEkC,IAAI,EAAC,UAAU;QACfC,OAAO,EAAE/B,IAAI,CAACkB,YAAa;QAC3Bc,QAAQ,EAAEvB,cAAe;QACzBmB,SAAS,EAAC;MAA2B;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC,CAAC,EACDhC,SAAS,gBACRR,OAAA;QACEgC,SAAS,EAAC,4BAA4B;QACtCS,KAAK,EAAE/B,SAAU;QACjB0B,QAAQ,EAAGM,CAAC,IAAK/B,YAAY,CAAC+B,CAAC,CAACC,MAAM,CAACF,KAAK;MAAE;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/C,CAAC,gBAEFxC,OAAA;QAAMgC,SAAS,EAAE,WAAW5B,IAAI,CAACkB,YAAY,GAAG,4BAA4B,GAAG,eAAe,EAAG;QAAAW,QAAA,EAC9F7B,IAAI,CAACQ;MAAK;QAAAyB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACP,CACP;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eACNxC,OAAA;MAAKgC,SAAS,EAAC,YAAY;MAAAC,QAAA,gBACzBjC,OAAA;QACE4C,OAAO,EAAEf,YAAa;QACtBG,SAAS,EAAC,yCAAyC;QACnDpB,KAAK,EAAC,WAAW;QAAAqB,QAAA,EAClB;MAED;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,EACRhC,SAAS,gBACRR,OAAA,CAAAE,SAAA;QAAA+B,QAAA,gBACEjC,OAAA;UACE4C,OAAO,EAAEb,UAAW;UACpBC,SAAS,EAAC,6CAA6C;UACvDpB,KAAK,EAAC,aAAa;UAAAqB,QAAA,EACpB;QAED;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTxC,OAAA;UACE4C,OAAO,EAAEA,CAAA,KAAM;YACbjC,YAAY,CAACP,IAAI,CAACQ,KAAK,CAAC;YACxBH,YAAY,CAAC,KAAK,CAAC;UACrB,CAAE;UACFuB,SAAS,EAAC,2CAA2C;UACrDpB,KAAK,EAAC,SAAS;UAAAqB,QAAA,EAChB;QAED;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA,eACT,CAAC,gBAEHxC,OAAA;QACE4C,OAAO,EAAEA,CAAA,KAAMnC,YAAY,CAAC,IAAI,CAAE;QAClCuB,SAAS,EAAC,2CAA2C;QACrDpB,KAAK,EAAC,UAAU;QAAAqB,QAAA,EACjB;MAED;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CACT;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACjC,EAAA,CA5HQJ,QAAQ;AAAA0C,EAAA,GAAR1C,QAAQ;AA8HjB,eAAeA,QAAQ;AAAC,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}