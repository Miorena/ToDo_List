{"ast":null,"code":"var _jsxFileName = \"/home/miorena/ToDo_List_Project/frontend/src/components/TaskItem.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport EditTaskModal from './EditTaskModal';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction TaskItem({\n  task,\n  onUpdate,\n  onDelete\n}) {\n  _s();\n  const [isEditing, setIsEditing] = useState(false);\n  const toggleComplete = async () => {\n    try {\n      const response = await fetch(`http://127.0.0.1:8000/api/tasks/${task.id}/`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          is_completed: !task.is_completed\n        })\n      });\n      if (response.ok) {\n        const updatedTask = await response.json();\n        onUpdate(updatedTask);\n      } else {\n        console.error(\"Erreur lors de la mise à jour\");\n      }\n    } catch (err) {\n      console.error(\"ERREUR réseau\", err);\n    }\n  };\n  const handleDelete = async () => {\n    try {\n      const response = await fetch(`http://127.0.0.1:8000/api/tasks/${task.id}/delete/`, {\n        method: \"DELETE\"\n      });\n      if (response.ok || response.status === 204) {\n        onDelete(task.id);\n      } else {\n        console.error(\"Erreur lors de la suppression\");\n      }\n    } catch (err) {\n      console.error(\"ERREUR réseau\", err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `flex items-center justify-between bg-white p-4 rounded shadow border ${task.is_completed ? 'opacity-70' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: task.is_completed,\n          onChange: toggleComplete,\n          className: \"w-5 h-5 accent-indigo-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `text-lg ${task.is_completed ? 'line-through text-gray-400' : 'text-gray-800'}`,\n          children: task.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsEditing(true),\n          className: \"text-blue-500 hover:text-blue-700 text-sm\",\n          title: \"Modifier\",\n          children: \"\\u270F\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDelete,\n          className: \"text-red-500 hover:text-red-700 text-sm\",\n          title: \"Supprimer\",\n          children: \"\\u274C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), isEditing && /*#__PURE__*/_jsxDEV(EditTaskModal, {\n      task: task,\n      onClose: () => setIsEditing(false),\n      onSave: onUpdate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n}\n_s(TaskItem, \"N4qUVpaen/rROL8jPu/4huFD8lA=\");\n_c = TaskItem;\nexport default TaskItem;\nvar _c;\n$RefreshReg$(_c, \"TaskItem\");","map":{"version":3,"names":["useState","EditTaskModal","jsxDEV","_jsxDEV","Fragment","_Fragment","TaskItem","task","onUpdate","onDelete","_s","isEditing","setIsEditing","toggleComplete","response","fetch","id","method","headers","body","JSON","stringify","is_completed","ok","updatedTask","json","console","error","err","handleDelete","status","children","className","type","checked","onChange","fileName","_jsxFileName","lineNumber","columnNumber","title","onClick","onClose","onSave","_c","$RefreshReg$"],"sources":["/home/miorena/ToDo_List_Project/frontend/src/components/TaskItem.jsx"],"sourcesContent":["import { useState } from 'react';\nimport EditTaskModal from './EditTaskModal';\n\nfunction TaskItem({ task, onUpdate, onDelete }) {\n    const [isEditing, setIsEditing] = useState(false);\n\n    const toggleComplete = async () => {\n        try {\n            const response = await fetch(`http://127.0.0.1:8000/api/tasks/${task.id}/`, {\n                method: \"PATCH\",\n                headers: {\n                \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({ is_completed: !task.is_completed })\n            });\n\n            if (response.ok) {\n                const updatedTask = await response.json();\n                onUpdate(updatedTask);\n            } else {\n                console.error(\"Erreur lors de la mise à jour\");\n            }\n        } catch (err) {\n        console.error(\"ERREUR réseau\", err);\n        }\n    };\n\n    const handleDelete = async () => {\n        try {\n            const response = await fetch(`http://127.0.0.1:8000/api/tasks/${task.id}/delete/`, {\n                method: \"DELETE\"\n            });\n\n            if (response.ok || response.status === 204) {\n                onDelete(task.id);\n            } else {\n                console.error(\"Erreur lors de la suppression\");\n            }\n        } catch (err) {\n        console.error(\"ERREUR réseau\", err);\n        }\n    };\n\n    return (\n        <>\n            <div className={`flex items-center justify-between bg-white p-4 rounded shadow border ${task.is_completed ? 'opacity-70' : ''}`}>\n                <div className=\"flex items-center gap-2\">\n                <input\n                    type=\"checkbox\"\n                    checked={task.is_completed}\n                    onChange={toggleComplete}\n                    className=\"w-5 h-5 accent-indigo-600\"\n                />\n                <span className={`text-lg ${task.is_completed ? 'line-through text-gray-400' : 'text-gray-800'}`}>\n                    {task.title}\n                </span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                <button\n                    onClick={() => setIsEditing(true)}\n                    className=\"text-blue-500 hover:text-blue-700 text-sm\"\n                    title=\"Modifier\"\n                >\n                    ✏️\n                </button>\n                <button\n                    onClick={handleDelete}\n                    className=\"text-red-500 hover:text-red-700 text-sm\"\n                    title=\"Supprimer\"\n                >\n                    ❌\n                </button>\n                </div>\n            </div>\n\n            {isEditing && (\n                <EditTaskModal\n                task={task}\n                onClose={() => setIsEditing(false)}\n                onSave={onUpdate}\n                />\n            )}\n        </>\n    );\n}\n\nexport default TaskItem;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}